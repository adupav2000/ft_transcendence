{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React from \"react\";\nexport default function useAnimationFrame(uptdateGame) {\n  _s();\n\n  //CUSTOM HOOKS THAT REFRESH THE GAME AT EACH FRAME\n  //ARG : THE FUNCTION TO RUN AT EACH FRAME\n  //SEE REACT HOOKS AND CUSTOM HOOKS\n  //https://css-tricks.com/using-requestanimationframe-with-react-hooks/\n  const timeRef = React.useRef();\n  const previousTimeRef = React.useRef();\n\n  function animation(time) {\n    if (previousTimeRef.current != undefined) {\n      const deltaTime = time - previousTimeRef.current;\n      uptdateGame(deltaTime);\n    }\n\n    previousTimeRef.current = time;\n    timeRef.current = requestAnimationFrame(animation);\n  }\n\n  React.useEffect(() => {\n    timeRef.current = requestAnimationFrame(animation);\n    return () => cancelAnimationFrame(timeRef.current);\n  });\n}\n\n_s(useAnimationFrame, \"HFKWBBLCggB5EI85qo04CzMY6QY=\");","map":{"version":3,"names":["React","useAnimationFrame","uptdateGame","timeRef","useRef","previousTimeRef","animation","time","current","undefined","deltaTime","requestAnimationFrame","useEffect","cancelAnimationFrame"],"sources":["/Users/macbook/Documents/ft_transcendance/front/src/src/hooks/useAnimationFrame.tsx"],"sourcesContent":["import React from \"react\"\n\nexport default function useAnimationFrame(uptdateGame:any) \n{\n    //CUSTOM HOOKS THAT REFRESH THE GAME AT EACH FRAME\n    //ARG : THE FUNCTION TO RUN AT EACH FRAME\n    //SEE REACT HOOKS AND CUSTOM HOOKS\n    //https://css-tricks.com/using-requestanimationframe-with-react-hooks/\n    \n    const timeRef:React.MutableRefObject<number|undefined> = React.useRef()\n\tconst previousTimeRef:React.MutableRefObject<number|undefined> = React.useRef()\n    \n    function animation(time:number)\n    {\n      if (previousTimeRef.current != undefined) {\n        const deltaTime = time - previousTimeRef.current;\n        uptdateGame(deltaTime)\n      }\n      previousTimeRef.current = time;\n      timeRef.current = requestAnimationFrame(animation);\n    }\n    \n    React.useEffect(() => {\n        timeRef.current = requestAnimationFrame(animation);\n      return () => cancelAnimationFrame(timeRef.current!);\n    })\n  }\n  "],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,SAASC,iBAAT,CAA2BC,WAA3B,EACf;EAAA;;EACI;EACA;EACA;EACA;EAEA,MAAMC,OAAgD,GAAGH,KAAK,CAACI,MAAN,EAAzD;EACH,MAAMC,eAAwD,GAAGL,KAAK,CAACI,MAAN,EAAjE;;EAEG,SAASE,SAAT,CAAmBC,IAAnB,EACA;IACE,IAAIF,eAAe,CAACG,OAAhB,IAA2BC,SAA/B,EAA0C;MACxC,MAAMC,SAAS,GAAGH,IAAI,GAAGF,eAAe,CAACG,OAAzC;MACAN,WAAW,CAACQ,SAAD,CAAX;IACD;;IACDL,eAAe,CAACG,OAAhB,GAA0BD,IAA1B;IACAJ,OAAO,CAACK,OAAR,GAAkBG,qBAAqB,CAACL,SAAD,CAAvC;EACD;;EAEDN,KAAK,CAACY,SAAN,CAAgB,MAAM;IAClBT,OAAO,CAACK,OAAR,GAAkBG,qBAAqB,CAACL,SAAD,CAAvC;IACF,OAAO,MAAMO,oBAAoB,CAACV,OAAO,CAACK,OAAT,CAAjC;EACD,CAHD;AAID;;GAxBqBP,iB"},"metadata":{},"sourceType":"module"}